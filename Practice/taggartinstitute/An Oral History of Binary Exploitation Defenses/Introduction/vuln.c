#include <stdio.h>
#include <unistd.h>
#include <string.h>
#include <sys/wait.h>

void overflow() {
    char name[0x100];  // Who has a name with more than 256 characters?
    
    // clear the name buffer 
    memset(name, 0x00, 0x100);
    // read user's name 
    puts("Hey, whats your name!?\n");
    read(STDIN_FILENO, name, 4096);
}

int main() {

    while(1) {
        puts("Welcome to ASK-YOUR-NAME server!"); 
        int child_pid = fork();
        if(child_pid == 0) {
            // child 
            overflow();
            puts("Thanks!");
        } else {
            // parent, wait for child to finish
            wait(NULL);

        }
    }

    return 0;
}